@import 'nib/vendor'
@import 'nib/gradients'
@import 'utils.styl'

m = 20px // padding
r = 1em // radius
userColor = red

body
  font 15px/1.8em anka, monospace

html, body, main, .chart-letters-users
  height 100%

.flex-parent
  display flex
  flex-direction column
  flex-wrap nowrap
  justify-content center
  align-content stretch
  align-items stretch

.flex-parent
  flex-direction row
  &.chart-letters-users
    flex 1 0 auto
    padding 0
  &.letters-users
    flex-direction column
    flex 0 0 350px
    padding 0
    justify-content flex-start

.flex-child
  flex 1 1 auto
  align-self auto
  padding m
  &.charts-text
    position relative
    border-right 1px solid #ccc
    flex-direction column
    .txt-stream
      position absolute
      top 0
      left 0
      width 100%
      .txt-stream-inner
        line-height 4vh
        width 760px
        margin 0 auto
        white-space pre
        .letter
          border-radius r
          &.letter-current
            color userColor
            transition all 0.8s ease
          &.letter-other
            box-shadow 0 0 0 0px #555
            transition all 0.3s ease
        .last-line
          .letter
            &.letter-current
              color white
              box-shadow 0 0 0 0px userColor
              background userColor
            &.letter-other
              color white
              box-shadow 0 0 0 0px #555
              background #555
          &.highlight
            .letter
              box-shadow 0 0 0 20px transparent
              background transparent
              &.letter-current
                color userColor
              &.letter-other
                color black
    .chart
      flex 1 0 auto
      background url(../img/chart.svg) no-repeat
      background-size 100% 100%
      .letter
        background userColor
        color white
        font-weight bold
        padding 0.1em 0.4em 0 0.4em
        border-radius r
  &.user-list
    font-size 16px
    li
      margin-bottom 20px
      .user-icon
        color #555
        background #f1f1f1
        border 5px solid #f1f1f1
        border-radius r
      .letter
        background black
        color white
        padding 0.1em 0.44em
        font-weight bold
        border-radius r
        transition all 0.9s ease
        box-shadow 0 0 0 0px #555
      &.myself
        .user-icon
          color userColor
        .letter
          box-shadow 0 0 0 0px userColor
          background-color userColor
          border-color userColor
    &.highlight
      .myself
        .letter
          box-shadow 0 0 0 30px transparent
  &.letter-list
    flex 0 0 auto
    flex-wrap wrap
    justify-content flex-start
    align-content flex-start
    .letter
      font-weight bold
      cursor pointer
      font-size 30px
      height 1.4em
      margin .1em
      background #ccc
      border-radius r
      padding 0.3em 0.40em 0 0.40em
      transition background-color .1s ease-out
      position relative
      &:after
        content attr(data-bet)
        background #ccc
        border-radius r
        line-height 10px
        font-size 10px
        padding 2px
        position absolute
        top 2.7em
        left 3.1em
      &:hover
        background #eee
      &:active
        background userColor
        color white
      &.blank
        color transparent
        background transparent
        &:after
          padding 0

.logo
  position absolute
  bottom m
  right 0
  width 100%
  display block
  text-align center
  h1
    display inline
    font-size 20px
    color #888
  .about-button
    margin-left 10px
    cursor pointer
    color white
    font-size 14px
    background #aaa
    padding 0.25em 0.46em 0 0.40em
    border-radius r
    font-weight bold
    position relative
    top -2px
    &:hover
      background userColor
#about
  transition all .4s ease
  position absolute
  background userColor
  padding 25vh
  font-size 30px
  line-height 2.5em
  text-align center
  color white
  bottom 120%
  top -170%
  left 5%
  right 5%
  box-shadow 0 0px 7px #888
  .about-button
    position absolute
    right m
    top 0
    color white
    cursor pointer
    font-size 60px
  &.opened
    bottom 10%
    top 10%
    left 10%
    right 10%


h2
  flex 0 0 auto
  border-bottom 1px solid #ccc
  font-size 14px
  color #999
  padding 0 m

a
  color inherit

.letter::selection {background:transparent;}
.letter::-moz-selection {background:transparent;}
